(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{231:function(s,e,a){s.exports=a.p+"assets/img/devops.9cd0e781.png"},321:function(s,e,a){"use strict";a.r(e);var t=a(0),n=Object(t.a)({},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"start"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start","aria-hidden":"true"}},[s._v("#")]),s._v(" Start")]),s._v(" "),t("h2",{attrs:{id:"get-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-docker","aria-hidden":"true"}},[s._v("#")]),s._v(" Get Docker")]),s._v(" "),t("h3",{attrs:{id:"ubuntu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu","aria-hidden":"true"}},[s._v("#")]),s._v(" Ubuntu")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo 普通用户希望用root权限执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget 下载命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -qO(字母) 限制输出跟普通输出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# | sh 用SH的方式执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -qO- https://get.docker.com "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个命令的意思是把当前用户加入docker用户组。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG docker 用户名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 docker-compose")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://github.com/docker/compose\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos","aria-hidden":"true"}},[s._v("#")]),s._v(" CentOS")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS7 系统 CentOS-Extras 库中已带 Docker，可以直接安装：")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装之后启动 Docker 服务，并让它随系统启动自动加载。")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" docker start\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" docker on\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[s._v("#")]),s._v(" Overview")]),s._v(" "),t("p",[t("img",{attrs:{src:a(231),alt:"devops"}})]),s._v(" "),t("p",[t("strong",[s._v("Docker image")]),s._v(": It is an executable file which contains cutdown operating system and all the libraries and configuration needed to run the application. It has multiple layers stacked on top of each other and represented as single object. A docker image is created using docker file, we will get to that in a bit.")]),s._v(" "),t("p",[t("strong",[s._v("Docker Container")]),s._v(": It is a running instance of docker image. there can be many containers running from same docker image.")]),s._v(" "),t("h3",{attrs:{id:"dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile","aria-hidden":"true"}},[s._v("#")]),s._v(" Dockerfile")]),s._v(" "),t("p",[s._v("Environment variables are supported by the following list of instructions in the "),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/builder/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Dockerfile"),t("OutboundLink")],1),s._v(":")]),s._v(" "),t("ul",[t("li",[s._v("ADD")]),s._v(" "),t("li",[s._v("COPY")]),s._v(" "),t("li",[s._v("ENV")]),s._v(" "),t("li",[s._v("EXPOSE")]),s._v(" "),t("li",[s._v("FROM")]),s._v(" "),t("li",[s._v("LABEL")]),s._v(" "),t("li",[s._v("STOPSIGNAL")]),s._v(" "),t("li",[s._v("USER")]),s._v(" "),t("li",[s._v("VOLUME")]),s._v(" "),t("li",[s._v("WORKDIR")])]),s._v(" "),t("p",[s._v("For example")]),s._v(" "),t("div",{staticClass:"language-Dockerfile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# pulls node.js docker image from docker hub\nFROM node:8\n\n# The ARG instruction defines a variable\n# that users can pass at build-time to the builder with the\n# `docker build` command using the --build-arg <varname>=<value> flag.\n# docker build --build-arg ENV_TAG=prod .\nARG ENV_TAG\nENV ENV_TAG ${ENV_TAG}\nWORKDIR /app\nCOPY package.json /app\nRUN npm install\nCOPY . /app\nEXPOSE 8081\nCMD node index.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"image"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image","aria-hidden":"true"}},[s._v("#")]),s._v(" Image")]),s._v(" "),t("h3",{attrs:{id:"container"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#container","aria-hidden":"true"}},[s._v("#")]),s._v(" Container")])])},[],!1,null,null,null);e.default=n.exports}}]);